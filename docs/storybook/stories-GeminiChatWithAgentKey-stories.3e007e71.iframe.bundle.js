"use strict";(self.webpackChunkreact_neuro=self.webpackChunkreact_neuro||[]).push([[232],{"./src/components/AgentKey.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _mui_material__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/material/Accordion/Accordion.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/AccordionSummary/AccordionSummary.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/AccordionDetails/AccordionDetails.js"),_mui_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/material/Stack/Stack.js"),_mui_material__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mui/material/TextField/TextField.js"),_mui_material__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),_mui_icons_material_ArrowForwardIosSharp__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/icons-material/esm/ArrowForwardIosSharp.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const AgentKey=_ref=>{let{apiKey,setApiKey,deleteKey}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_1__.A,{elevation:3,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.A,{expandIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_ArrowForwardIosSharp__WEBPACK_IMPORTED_MODULE_3__.A,{}),sx:{flexDirection:"row-reverse",".Mui-expanded & .MuiAccordionSummary-expandIconWrapper":{transform:"rotate(90deg)"}},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.A,{variant:"h6",sx:{ml:2},children:"Gemini API Key"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.A,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.A,{spacing:{xs:1,sm:2},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.A,{autoComplete:"off",fullWidth:!0,type:"password",label:"Enter your key",value:apiKey,onChange:event=>{setApiKey(event.target.value)}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_8__.A,{onClick:()=>{deleteKey()},variant:"contained",color:"error",children:"Delete Key"})]})})]})},__WEBPACK_DEFAULT_EXPORT__=AgentKey;AgentKey.__docgenInfo={description:"",methods:[],displayName:"AgentKey",props:{apiKey:{required:!0,tsType:{name:"string"},description:""},setApiKey:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},deleteKey:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./src/components/TextInputForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>TextInputForm});var _mui_material__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/material/Paper/Paper.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/TextField/TextField.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/CircularProgress/CircularProgress.js"),_mui_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),_mui_material_colors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mui/material/colors/grey.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const TextInputForm=_ref=>{let{handleSubmit,input,loading,setInput}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_1__.A,{elevation:3,sx:{p:3},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:handleSubmit,onKeyDown:e=>{e.ctrlKey&&("Enter"===e.key||e.metaKey)&&(e.preventDefault(),handleSubmit(e)),"Enter"!==e.key||e.ctrlKey||e.metaKey||e.preventDefault()},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.A,{fullWidth:!0,multiline:!0,minRows:3,maxRows:6,label:"Enter your question",variant:"outlined",value:input,onChange:e=>setInput(e.target.value),sx:{mb:2},disabled:loading,onKeyDown:e=>{"Enter"!==e.key||e.ctrlKey||e.metaKey||e.preventDefault()}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.A,{type:"submit",variant:"contained",color:"primary",disabled:loading,startIcon:loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.A,{size:20}):null,children:loading?"Processing...":"Ask Gemini"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.A,{sx:{color:_mui_material_colors__WEBPACK_IMPORTED_MODULE_7__.A[500]},children:"Для отправки нажмите Control(Ctrl) + Enter"})]})]})})};TextInputForm.__docgenInfo={description:"",methods:[],displayName:"TextInputForm",props:{handleSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.FormEvent) => Promise<void>",signature:{arguments:[{type:{name:"ReactFormEvent",raw:"React.FormEvent"},name:"e"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},input:{required:!0,tsType:{name:"string"},description:""},loading:{required:!0,tsType:{name:"boolean"},description:""},setInput:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}}},"./src/hooks/useAgentKey.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>useAgentKey});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const useAgentKey=()=>{const[apiKey,setApiKey]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>{try{const savedData=localStorage.getItem("API_KEY");if(savedData){const parsedData=JSON.parse(savedData);if(parsedData.length>0)return parsedData}}catch(error){console.error("Error load from localStorage key API_KEY:",error)}return""}));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{try{const valueToStore=JSON.stringify(apiKey);localStorage.setItem("API_KEY",valueToStore)}catch(error){console.error("Error saving to localStorage key API_KEY:",error)}}),[apiKey]);return{apiKey,setApiKey,deleteKey:()=>{localStorage.removeItem("API_KEY"),setApiKey("")}}}},"./src/hooks/useGoogleGenerativeAI.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>useGoogleGenerativeAI});var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@google/generative-ai/dist/index.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");const useGoogleGenerativeAI=apiKey=>({googleGenerativeAI:(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.ij(apiKey)),[apiKey])})},"./src/stories/GeminiChatWithAgentKey.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>GeminiChatWithAgentKey_stories});var Box=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),Alert=__webpack_require__("./node_modules/@mui/material/Alert/Alert.js"),useAgentKey=__webpack_require__("./src/hooks/useAgentKey.ts"),react=__webpack_require__("./node_modules/react/index.js");var useGoogleGenerativeAI=__webpack_require__("./src/hooks/useGoogleGenerativeAI.ts"),TextInputForm=__webpack_require__("./src/components/TextInputForm.tsx"),AgentKey=__webpack_require__("./src/components/AgentKey.tsx"),Paper=__webpack_require__("./node_modules/@mui/material/Paper/Paper.js"),lib=__webpack_require__("./node_modules/react-markdown/lib/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ChatAnswer=_ref=>{let{response}=_ref;return(0,jsx_runtime.jsxs)(Paper.A,{elevation:3,sx:{p:3},children:[(0,jsx_runtime.jsx)(Typography.A,{variant:"h6",gutterBottom:!0,children:"Answer:"}),(0,jsx_runtime.jsx)(lib.oz,{components:{p:_ref2=>{let{node,...props}=_ref2;return(0,jsx_runtime.jsx)(Typography.A,{paragraph:!0,...props})},code:_ref3=>{let{node,...props}=_ref3;return(0,jsx_runtime.jsx)("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 4px",borderRadius:4},...props})}},children:response})]})};ChatAnswer.__docgenInfo={description:"",methods:[],displayName:"ChatAnswer",props:{response:{required:!0,tsType:{name:"string"},description:""}}};const GeminiChatWithAgentKey=()=>{const{apiKey,setApiKey,deleteKey}=(0,useAgentKey.G)(),{googleGenerativeAI}=(0,useGoogleGenerativeAI.j)(apiKey),[input,setInput]=(0,react.useState)(""),[response,setResponse]=(0,react.useState)(""),{loading,error,handleSubmit}=((googleGenerativeAI,input,setResponse)=>{const[loading,setLoading]=(0,react.useState)(!1),[error,setError]=(0,react.useState)("");return{loading,error,handleSubmit:async e=>{if(e.preventDefault(),input.trim()){setLoading(!0),setError("");try{const model=googleGenerativeAI.getGenerativeModel({model:"gemini-1.5-flash"}),result=await model.generateContent(input),text=await result.response.text();setResponse(text)}catch(err){setError("Error: "+(err instanceof Error?err.message:"Failed to fetch")),console.error("API Error:",err)}finally{setLoading(!1)}}}}})(googleGenerativeAI,input,setResponse);return(0,jsx_runtime.jsxs)(Box.A,{sx:{maxWidth:800,margin:"auto",p:3,minHeight:"100vh",display:"flex",flexDirection:"column"},children:[(0,jsx_runtime.jsx)(Typography.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Gemini Chat Interface"}),(0,jsx_runtime.jsx)(Box.A,{sx:{mt:1},children:(0,jsx_runtime.jsx)(TextInputForm.C,{handleSubmit,input,loading,setInput})}),(0,jsx_runtime.jsx)(Box.A,{sx:{mt:2},children:(0,jsx_runtime.jsx)(AgentKey.A,{apiKey,setApiKey,deleteKey})}),error&&(0,jsx_runtime.jsx)(Alert.A,{severity:"error",sx:{mt:2},children:error}),response&&(0,jsx_runtime.jsx)(Box.A,{sx:{mt:2},children:(0,jsx_runtime.jsx)(ChatAnswer,{response})})]})};GeminiChatWithAgentKey.__docgenInfo={description:"",methods:[],displayName:"GeminiChatWithAgentKey"};const GeminiChatWithAgentKey_stories={title:"Pages/GeminiChatWithAgentKey",component:GeminiChatWithAgentKey},Default={args:{}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Default.parameters?.docs?.source}}}}}]);