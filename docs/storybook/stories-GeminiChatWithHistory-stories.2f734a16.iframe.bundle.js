"use strict";(self.webpackChunkreact_neuro=self.webpackChunkreact_neuro||[]).push([[936],{"./src/components/AgentKey.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _mui_material__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/material/Accordion/Accordion.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/AccordionSummary/AccordionSummary.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/AccordionDetails/AccordionDetails.js"),_mui_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/material/Stack/Stack.js"),_mui_material__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mui/material/TextField/TextField.js"),_mui_material__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),_mui_icons_material_ArrowForwardIosSharp__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/icons-material/esm/ArrowForwardIosSharp.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const AgentKey=_ref=>{let{apiKey,setApiKey,deleteKey}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_1__.A,{elevation:3,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.A,{expandIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_ArrowForwardIosSharp__WEBPACK_IMPORTED_MODULE_3__.A,{}),sx:{flexDirection:"row-reverse",".Mui-expanded & .MuiAccordionSummary-expandIconWrapper":{transform:"rotate(90deg)"}},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.A,{variant:"h6",sx:{ml:2},children:"Gemini API Key"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.A,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.A,{spacing:{xs:1,sm:2},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.A,{autoComplete:"off",fullWidth:!0,type:"password",label:"Enter your key",value:apiKey,onChange:event=>{setApiKey(event.target.value)}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_8__.A,{onClick:()=>{deleteKey()},variant:"contained",color:"error",children:"Delete Key"})]})})]})},__WEBPACK_DEFAULT_EXPORT__=AgentKey;AgentKey.__docgenInfo={description:"",methods:[],displayName:"AgentKey",props:{apiKey:{required:!0,tsType:{name:"string"},description:""},setApiKey:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},deleteKey:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./src/components/TextInputForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>TextInputForm});var _mui_material__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/material/Paper/Paper.js"),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/TextField/TextField.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/CircularProgress/CircularProgress.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const TextInputForm=_ref=>{let{handleSubmit,input,loading,setInput}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_1__.A,{elevation:3,sx:{p:3},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:handleSubmit,onKeyDown:e=>{e.ctrlKey&&("Enter"===e.key||e.metaKey)&&(e.preventDefault(),handleSubmit(e)),"Enter"!==e.key||e.ctrlKey||e.metaKey||e.preventDefault()},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.A,{fullWidth:!0,multiline:!0,minRows:3,maxRows:6,label:"Enter your question",variant:"outlined",value:input,onChange:e=>setInput(e.target.value),sx:{mb:2},disabled:loading,onKeyDown:e=>{"Enter"!==e.key||e.ctrlKey||e.metaKey||e.preventDefault()}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.A,{type:"submit",variant:"contained",color:"primary",disabled:loading,startIcon:loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.A,{size:20}):null,children:loading?"Processing...":"Ask Gemini"})]})})};TextInputForm.__docgenInfo={description:"",methods:[],displayName:"TextInputForm",props:{handleSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.FormEvent) => Promise<void>",signature:{arguments:[{type:{name:"ReactFormEvent",raw:"React.FormEvent"},name:"e"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},input:{required:!0,tsType:{name:"string"},description:""},loading:{required:!0,tsType:{name:"boolean"},description:""},setInput:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}}},"./src/hooks/useAgentKey.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>useAgentKey});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const useAgentKey=()=>{const[apiKey,setApiKey]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>{try{const savedData=localStorage.getItem("API_KEY");if(savedData){const parsedData=JSON.parse(savedData);if(parsedData.length>0)return parsedData}}catch(error){console.error("Error load from localStorage key API_KEY:",error)}return""}));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{try{const valueToStore=JSON.stringify(apiKey);localStorage.setItem("API_KEY",valueToStore)}catch(error){console.error("Error saving to localStorage key API_KEY:",error)}}),[apiKey]);return{apiKey,setApiKey,deleteKey:()=>{localStorage.removeItem("API_KEY"),setApiKey("")}}}},"./src/hooks/useGoogleGenerativeAI.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>useGoogleGenerativeAI});var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@google/generative-ai/dist/index.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");const useGoogleGenerativeAI=apiKey=>({googleGenerativeAI:(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.ij(apiKey)),[apiKey])})},"./src/stories/GeminiChatWithHistory.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>GeminiChatWithHistory_stories});var Box=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),Alert=__webpack_require__("./node_modules/@mui/material/Alert/Alert.js"),useAgentKey=__webpack_require__("./src/hooks/useAgentKey.ts"),useGoogleGenerativeAI=__webpack_require__("./src/hooks/useGoogleGenerativeAI.ts"),TextInputForm=__webpack_require__("./src/components/TextInputForm.tsx"),AgentKey=__webpack_require__("./src/components/AgentKey.tsx"),Paper=__webpack_require__("./node_modules/@mui/material/Paper/Paper.js"),List=__webpack_require__("./node_modules/@mui/material/List/List.js"),react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),composeClasses=__webpack_require__("./node_modules/@mui/utils/esm/composeClasses/composeClasses.js"),isHostComponent=__webpack_require__("./node_modules/@mui/material/utils/isHostComponent.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),memoTheme=__webpack_require__("./node_modules/@mui/material/utils/memoTheme.js"),DefaultPropsProvider=__webpack_require__("./node_modules/@mui/material/DefaultPropsProvider/DefaultPropsProvider.js"),isMuiElement=__webpack_require__("./node_modules/@mui/material/utils/isMuiElement.js"),useForkRef=__webpack_require__("./node_modules/@mui/material/utils/useForkRef.js"),ListContext=__webpack_require__("./node_modules/@mui/material/List/ListContext.js"),generateUtilityClasses=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js"),generateUtilityClass_generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js");function getListItemUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiListItem",slot)}(0,generateUtilityClasses.A)("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const ListItemButton_listItemButtonClasses=(0,generateUtilityClasses.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function getListItemSecondaryActionClassesUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiListItemSecondaryAction",slot)}(0,generateUtilityClasses.A)("MuiListItemSecondaryAction",["root","disableGutters"]);var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ListItemSecondaryActionRoot=(0,styled.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.disableGutters&&styles.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState})=>ownerState.disableGutters,style:{right:0}}]}),ListItemSecondaryAction=react.forwardRef((function ListItemSecondaryAction(inProps,ref){const props=(0,DefaultPropsProvider.b)({props:inProps,name:"MuiListItemSecondaryAction"}),{className,...other}=props,context=react.useContext(ListContext.A),ownerState={...props,disableGutters:context.disableGutters},classes=(ownerState=>{const{disableGutters,classes}=ownerState,slots={root:["root",disableGutters&&"disableGutters"]};return(0,composeClasses.A)(slots,getListItemSecondaryActionClassesUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(ListItemSecondaryActionRoot,{className:(0,clsx.A)(classes.root,className),ownerState,ref,...other})}));ListItemSecondaryAction.muiName="ListItemSecondaryAction";const ListItemSecondaryAction_ListItemSecondaryAction=ListItemSecondaryAction,ListItemRoot=(0,styled.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.dense&&styles.dense,"flex-start"===ownerState.alignItems&&styles.alignItemsFlexStart,ownerState.divider&&styles.divider,!ownerState.disableGutters&&styles.gutters,!ownerState.disablePadding&&styles.padding,ownerState.hasSecondaryAction&&styles.secondaryAction]}})((0,memoTheme.A)((({theme})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState})=>!ownerState.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState})=>!ownerState.disablePadding&&ownerState.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState})=>!ownerState.disablePadding&&!ownerState.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState})=>!ownerState.disablePadding&&!!ownerState.secondaryAction,style:{paddingRight:48}},{props:({ownerState})=>!!ownerState.secondaryAction,style:{[`& > .${ListItemButton_listItemButtonClasses.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState})=>ownerState.divider,style:{borderBottom:`1px solid ${(theme.vars||theme).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState})=>ownerState.button,style:{transition:theme.transitions.create("background-color",{duration:theme.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(theme.vars||theme).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState})=>ownerState.hasSecondaryAction,style:{paddingRight:48}}]})))),ListItemContainer=(0,styled.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(props,styles)=>styles.container})({position:"relative"}),ListItem_ListItem=react.forwardRef((function ListItem(inProps,ref){const props=(0,DefaultPropsProvider.b)({props:inProps,name:"MuiListItem"}),{alignItems="center",children:childrenProp,className,component:componentProp,components={},componentsProps={},ContainerComponent="li",ContainerProps:{className:ContainerClassName,...ContainerProps}={},dense=!1,disableGutters=!1,disablePadding=!1,divider=!1,secondaryAction,slotProps={},slots={},...other}=props,context=react.useContext(ListContext.A),childContext=react.useMemo((()=>({dense:dense||context.dense||!1,alignItems,disableGutters})),[alignItems,context.dense,dense,disableGutters]),listItemRef=react.useRef(null),children=react.Children.toArray(childrenProp),hasSecondaryAction=children.length&&(0,isMuiElement.A)(children[children.length-1],["ListItemSecondaryAction"]),ownerState={...props,alignItems,dense:childContext.dense,disableGutters,disablePadding,divider,hasSecondaryAction},classes=(ownerState=>{const{alignItems,classes,dense,disableGutters,disablePadding,divider,hasSecondaryAction}=ownerState,slots={root:["root",dense&&"dense",!disableGutters&&"gutters",!disablePadding&&"padding",divider&&"divider","flex-start"===alignItems&&"alignItemsFlexStart",hasSecondaryAction&&"secondaryAction"],container:["container"]};return(0,composeClasses.A)(slots,getListItemUtilityClass,classes)})(ownerState),handleRef=(0,useForkRef.A)(listItemRef,ref),Root=slots.root||components.Root||ListItemRoot,rootProps=slotProps.root||componentsProps.root||{},componentProps={className:(0,clsx.A)(classes.root,rootProps.className,className),...other};let Component=componentProp||"li";return hasSecondaryAction?(Component=componentProps.component||componentProp?Component:"div","li"===ContainerComponent&&("li"===Component?Component="div":"li"===componentProps.component&&(componentProps.component="div")),(0,jsx_runtime.jsx)(ListContext.A.Provider,{value:childContext,children:(0,jsx_runtime.jsxs)(ListItemContainer,{as:ContainerComponent,className:(0,clsx.A)(classes.container,ContainerClassName),ref:handleRef,ownerState,...ContainerProps,children:[(0,jsx_runtime.jsx)(Root,{...rootProps,...!(0,isHostComponent.A)(Root)&&{as:Component,ownerState:{...ownerState,...rootProps.ownerState}},...componentProps,children}),children.pop()]})})):(0,jsx_runtime.jsx)(ListContext.A.Provider,{value:childContext,children:(0,jsx_runtime.jsxs)(Root,{...rootProps,as:Component,ref:handleRef,...!(0,isHostComponent.A)(Root)&&{ownerState:{...ownerState,...rootProps.ownerState}},...componentProps,children:[children,secondaryAction&&(0,jsx_runtime.jsx)(ListItemSecondaryAction_ListItemSecondaryAction,{children:secondaryAction})]})})}));var lib=__webpack_require__("./node_modules/react-markdown/lib/index.js"),useTheme=__webpack_require__("./node_modules/@mui/material/styles/useTheme.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),colorManipulator=__webpack_require__("./node_modules/@mui/system/esm/colorManipulator/colorManipulator.js"),isFocusVisible=__webpack_require__("./node_modules/@mui/utils/esm/isFocusVisible/isFocusVisible.js"),capitalize=__webpack_require__("./node_modules/@mui/material/utils/capitalize.js"),createSimplePaletteValueFilter=__webpack_require__("./node_modules/@mui/material/utils/createSimplePaletteValueFilter.js");function getLinkUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiLink",slot)}const Link_linkClasses=(0,generateUtilityClasses.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var style=__webpack_require__("./node_modules/@mui/system/esm/style/style.js");const Link_getTextDecoration=({theme,ownerState})=>{const transformedColor=ownerState.color,color=(0,style.Yn)(theme,`palette.${transformedColor}.main`,!1)||(0,style.Yn)(theme,`palette.${transformedColor}`,!1)||ownerState.color,channelColor=(0,style.Yn)(theme,`palette.${transformedColor}.mainChannel`)||(0,style.Yn)(theme,`palette.${transformedColor}Channel`);return"vars"in theme&&channelColor?`rgba(${channelColor} / 0.4)`:(0,colorManipulator.X4)(color,.4)},v6Colors={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},LinkRoot=(0,styled.Ay)(Typography.A,{name:"MuiLink",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[`underline${(0,capitalize.A)(ownerState.underline)}`],"button"===ownerState.component&&styles.button]}})((0,memoTheme.A)((({theme})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline,ownerState})=>"always"===underline&&"inherit"!==ownerState.color,style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(theme.palette).filter((0,createSimplePaletteValueFilter.A)()).map((([color])=>({props:{underline:"always",color},style:{"--Link-underlineColor":theme.vars?`rgba(${theme.vars.palette[color].mainChannel} / 0.4)`:(0,colorManipulator.X4)(theme.palette[color].main,.4)}}))),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":theme.vars?`rgba(${theme.vars.palette.text.primaryChannel} / 0.4)`:(0,colorManipulator.X4)(theme.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":theme.vars?`rgba(${theme.vars.palette.text.secondaryChannel} / 0.4)`:(0,colorManipulator.X4)(theme.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(theme.vars||theme).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Link_linkClasses.focusVisible}`]:{outline:"auto"}}}]})))),Link_Link=react.forwardRef((function Link(inProps,ref){const props=(0,DefaultPropsProvider.b)({props:inProps,name:"MuiLink"}),theme=(0,useTheme.A)(),{className,color="primary",component="a",onBlur,onFocus,TypographyClasses,underline="always",variant="inherit",sx,...other}=props,[focusVisible,setFocusVisible]=react.useState(!1),ownerState={...props,color,component,focusVisible,underline,variant},classes=(ownerState=>{const{classes,component,focusVisible,underline}=ownerState,slots={root:["root",`underline${(0,capitalize.A)(underline)}`,"button"===component&&"button",focusVisible&&"focusVisible"]};return(0,composeClasses.A)(slots,getLinkUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(LinkRoot,{color,className:(0,clsx.A)(classes.root,className),classes:TypographyClasses,component,onBlur:event=>{(0,isFocusVisible.A)(event.target)||setFocusVisible(!1),onBlur&&onBlur(event)},onFocus:event=>{(0,isFocusVisible.A)(event.target)&&setFocusVisible(!0),onFocus&&onFocus(event)},ref,ownerState,variant,...other,sx:[...void 0===v6Colors[color]?[{color}]:[],...Array.isArray(sx)?sx:[sx]],style:{...other.style,..."always"===underline&&"inherit"!==color&&!v6Colors[color]&&{"--Link-underlineColor":Link_getTextDecoration({theme,ownerState})}}})}));function getDividerUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiDivider",slot)}(0,generateUtilityClasses.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const DividerRoot=(0,styled.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.absolute&&styles.absolute,styles[ownerState.variant],ownerState.light&&styles.light,"vertical"===ownerState.orientation&&styles.vertical,ownerState.flexItem&&styles.flexItem,ownerState.children&&styles.withChildren,ownerState.children&&"vertical"===ownerState.orientation&&styles.withChildrenVertical,"right"===ownerState.textAlign&&"vertical"!==ownerState.orientation&&styles.textAlignRight,"left"===ownerState.textAlign&&"vertical"!==ownerState.orientation&&styles.textAlignLeft]}})((0,memoTheme.A)((({theme})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(theme.vars||theme).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:theme.vars?`rgba(${theme.vars.palette.dividerChannel} / 0.08)`:(0,colorManipulator.X4)(theme.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:theme.spacing(2),marginRight:theme.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:theme.spacing(1),marginBottom:theme.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState})=>!!ownerState.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState})=>ownerState.children&&"vertical"!==ownerState.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(theme.vars||theme).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState})=>"vertical"===ownerState.orientation&&ownerState.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(theme.vars||theme).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState})=>"right"===ownerState.textAlign&&"vertical"!==ownerState.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState})=>"left"===ownerState.textAlign&&"vertical"!==ownerState.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]})))),DividerWrapper=(0,styled.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.wrapper,"vertical"===ownerState.orientation&&styles.wrapperVertical]}})((0,memoTheme.A)((({theme})=>({display:"inline-block",paddingLeft:`calc(${theme.spacing(1)} * 1.2)`,paddingRight:`calc(${theme.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${theme.spacing(1)} * 1.2)`,paddingBottom:`calc(${theme.spacing(1)} * 1.2)`}}]})))),Divider=react.forwardRef((function Divider(inProps,ref){const props=(0,DefaultPropsProvider.b)({props:inProps,name:"MuiDivider"}),{absolute=!1,children,className,orientation="horizontal",component=children||"vertical"===orientation?"div":"hr",flexItem=!1,light=!1,role="hr"!==component?"separator":void 0,textAlign="center",variant="fullWidth",...other}=props,ownerState={...props,absolute,component,flexItem,light,orientation,role,textAlign,variant},classes=(ownerState=>{const{absolute,children,classes,flexItem,light,orientation,textAlign,variant}=ownerState,slots={root:["root",absolute&&"absolute",variant,light&&"light","vertical"===orientation&&"vertical",flexItem&&"flexItem",children&&"withChildren",children&&"vertical"===orientation&&"withChildrenVertical","right"===textAlign&&"vertical"!==orientation&&"textAlignRight","left"===textAlign&&"vertical"!==orientation&&"textAlignLeft"],wrapper:["wrapper","vertical"===orientation&&"wrapperVertical"]};return(0,composeClasses.A)(slots,getDividerUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(DividerRoot,{as:component,className:(0,clsx.A)(classes.root,className),role,ref,ownerState,"aria-orientation":"separator"!==role||"hr"===component&&"vertical"!==orientation?void 0:orientation,...other,children:children?(0,jsx_runtime.jsx)(DividerWrapper,{className:classes.wrapper,ownerState,children}):null})}));Divider&&(Divider.muiSkipListHighlight=!0);const Divider_Divider=Divider,MaterialMarkdown=_ref=>{let{content}=_ref;const theme=(0,useTheme.A)();return(0,jsx_runtime.jsx)(lib.oz,{components:{h1:_ref2=>{let{node,...props}=_ref2;return(0,jsx_runtime.jsx)(Typography.A,{variant:"h3",gutterBottom:!0,...props})},h2:_ref3=>{let{node,...props}=_ref3;return(0,jsx_runtime.jsx)(Typography.A,{variant:"h4",gutterBottom:!0,...props})},h3:_ref4=>{let{node,...props}=_ref4;return(0,jsx_runtime.jsx)(Typography.A,{variant:"h5",gutterBottom:!0,...props})},p:_ref5=>{let{node,...props}=_ref5;return(0,jsx_runtime.jsx)(Typography.A,{variant:"body1",paragraph:!0,sx:{m:0},...props})},a:_ref6=>{let{node,...props}=_ref6;return(0,jsx_runtime.jsx)(Link_Link,{color:"secondary",underline:"hover",target:"_blank",rel:"noopener",...props})},ul:_ref7=>{let{node,...props}=_ref7;return(0,jsx_runtime.jsx)(List.A,{dense:!0,sx:{pl:4},...props})},ol:_ref8=>{let{node,...props}=_ref8;return(0,jsx_runtime.jsx)(List.A,{component:"ol",dense:!0,sx:{pl:4},...props})},li:_ref9=>{let{node,...props}=_ref9;return(0,jsx_runtime.jsx)(ListItem_ListItem,{sx:{display:"list-item",listStyleType:"disc",p:0,pl:"4px"},...props})},hr:_ref10=>{let{node,...props}=_ref10;return(0,jsx_runtime.jsx)(Divider_Divider,{sx:{my:2},...props})},blockquote:_ref11=>{let{node}=_ref11;return(0,jsx_runtime.jsx)(Paper.A,{variant:"outlined",sx:{p:2,my:2,borderLeft:`4px solid ${theme.palette.divider}`,bgcolor:"background.default"}})},code:_ref12=>{let{node,...props}=_ref12;return(0,jsx_runtime.jsx)(Box.A,{component:"span",sx:{fontFamily:"monospace",bgcolor:"action.hover",px:.5,borderRadius:1,whiteSpace:"pre-wrap",p:2,my:1,display:"block"},...props})},strong:_ref13=>{let{node,...props}=_ref13;return(0,jsx_runtime.jsx)(Typography.A,{component:"span",fontWeight:"bold",...props})},em:_ref14=>{let{node,...props}=_ref14;return(0,jsx_runtime.jsx)(Typography.A,{component:"span",fontStyle:"italic",...props})}},children:content})};MaterialMarkdown.__docgenInfo={description:"",methods:[],displayName:"MaterialMarkdown",props:{content:{required:!0,tsType:{name:"string"},description:""}}};const ChatHistory=_ref=>{let{messagesHistory}=_ref;const chatHistoryEnd=(0,react.useRef)(null),scrollToBottom=()=>{chatHistoryEnd.current&&chatHistoryEnd.current.scrollIntoView({behavior:"auto",block:"center"})};return(0,react.useEffect)((()=>{scrollToBottom()}),[]),(0,react.useEffect)((()=>{scrollToBottom()}),[messagesHistory]),(0,jsx_runtime.jsxs)(Paper.A,{elevation:3,sx:{height:"44vh",overflowY:"scroll",bgcolor:"background.default",display:"flex",flexDirection:"column",py:2,px:3},children:[(0,jsx_runtime.jsx)(List.A,{sx:{display:"flex",flexDirection:"column"},children:messagesHistory.map(((_ref2,index)=>{let{text,author}=_ref2;return(0,jsx_runtime.jsx)(ListItem_ListItem,{sx:{justifyContent:"user"===author?"flex-end":"flex-start",alignItems:"flex-start"},children:(0,jsx_runtime.jsx)(Paper.A,{sx:"user"===author?{p:1,backgroundColor:"primary.light"}:{p:1},children:(0,jsx_runtime.jsx)(MaterialMarkdown,{content:text})})},index)}))}),(0,jsx_runtime.jsx)("div",{ref:chatHistoryEnd})]})};ChatHistory.__docgenInfo={description:"",methods:[],displayName:"ChatHistory",props:{messagesHistory:{required:!0,tsType:{name:"Array",elements:[{name:"IMessage"}],raw:"Array<IMessage>"},description:""}}};const GeminiChatWithHistory=()=>{const{apiKey,setApiKey,deleteKey}=(0,useAgentKey.G)(),{googleGenerativeAI}=(0,useGoogleGenerativeAI.j)(apiKey),[messageHistory,setMessageHistory]=(0,react.useState)((()=>{try{const savedData=localStorage.getItem("MESSAGE_HISTORY_KEY");if(savedData){const parsedData=JSON.parse(savedData);if(parsedData.length>0)return parsedData}}catch(error){console.error("Error load from localStorage key MESSAGE_HISTORY_KEY:",error)}return[]})),[input,setInput]=(0,react.useState)(""),[response,setResponse]=(0,react.useState)(""),[loading,setLoading]=(0,react.useState)(!1),[error,setError]=(0,react.useState)("");(0,react.useEffect)((()=>{try{const valueToStore=JSON.stringify(messageHistory);localStorage.setItem("MESSAGE_HISTORY_KEY",valueToStore)}catch(error){console.error("Error saving to localStorage key MESSAGE_HISTORY_KEY:",error)}}),[messageHistory]);return(0,jsx_runtime.jsxs)(Box.A,{sx:{maxWidth:800,margin:"auto",p:3,minHeight:"100vh",display:"flex",flexDirection:"column"},children:[(0,jsx_runtime.jsx)(Box.A,{children:(0,jsx_runtime.jsx)(ChatHistory,{messagesHistory:messageHistory})}),(0,jsx_runtime.jsx)(Box.A,{sx:{mt:1},children:(0,jsx_runtime.jsx)(TextInputForm.C,{handleSubmit:e=>(setMessageHistory((previusState=>{const newState=[...previusState];return console.log("input: ",input),console.log("input.trim(): ",input.trim()),newState.push({text:input.trim(),author:"user"}),newState})),(async e=>{e.preventDefault();const inputText=input;if(setInput(""),inputText.trim()){setLoading(!0),setError("");try{const model=googleGenerativeAI.getGenerativeModel({model:"gemini-1.5-flash"}),result=await model.generateContent(inputText),text=await result.response.text();setMessageHistory((previusState=>{const newState=[...previusState];return newState.push({text,author:"ai"}),newState})),setResponse(text)}catch(err){setError("Error: "+(err instanceof Error?err.message:"Failed to fetch")),console.error("API Error:",err)}finally{setLoading(!1)}}})(e)),input,loading,setInput})}),(0,jsx_runtime.jsx)(Box.A,{sx:{mt:2},children:(0,jsx_runtime.jsx)(AgentKey.A,{apiKey,setApiKey,deleteKey})}),error&&(0,jsx_runtime.jsx)(Alert.A,{severity:"error",sx:{mt:2},children:error})]})};GeminiChatWithHistory.__docgenInfo={description:"",methods:[],displayName:"GeminiChatWithHistory"};const GeminiChatWithHistory_stories={title:"Pages/GeminiChatWithHistory",component:GeminiChatWithHistory},Default={args:{}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Default.parameters?.docs?.source}}}}}]);